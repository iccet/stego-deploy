#https://github.com/elastic/beats/blob/master/filebeat/filebeat.reference.yml

filebeat.modules:
  - module: system
    syslog:
      enabled: true
    auth:
      enabled: true

  - module: redis
    log:
      enabled: true
    slowlog:
      enabled: true
      var.hosts:
        - redis:6379

  - module: elasticsearch
    server:
      enabled: true
    gc:
      enabled: true
    audit:
      enabled: true
    slowlog:
      enabled: true
    deprecation:
      enabled: true

  - module: kibana
    log:
      enabled: true
    audit:
      enabled: true

  - module: auditd
    log:
      enabled: true

  - module: kafka
    log:
      enabled: true

  - module: postgresql
    log:
      enabled: true
      hints.enabled: true
      var.paths:
        - /var/log/postgresql/*.log

filebeat.autodiscover:
  providers:
    - type: docker
      hints.enabled: true

processors:
  - add_cloud_metadata: ~
  - add_docker_metadata: ~
  - add_locale:
      format: offset
  - add_host_metadata:
      netinfo.enabled: true

output.elasticsearch:
  hosts:
    - "${ELASTICSEARCH_HOST}"
  username: ${ELASTICSEARCH_USERNAME}
  password: ${ELASTICSEARCH_PASSWORD}

setup.dashboards:
  enabled: true

setup.kibana:
  host: "${KIBANA_HOST}"
  username: ${ELASTICSEARCH_USERNAME}
  password: ${ELASTICSEARCH_PASSWORD}